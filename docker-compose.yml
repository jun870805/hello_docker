version: '3.8'

services:
  bot:
    build: .
    container_name: ticket-bot-manager
    # ğŸ”¥ è³¦äºˆæ§åˆ¶ Docker çš„æ¬Šé™ (DooD æ¨¡å¼)
    volumes:
      - .:/app
      - /var/run/docker.sock:/var/run/docker.sock
    environment:
      - TZ=Asia/Taipei
      - EXTERNAL_HOST=peterfan0805
      # ğŸ”¥ æŒ‡å®šç¶²è·¯åç¨±ï¼Œè®“ Python çŸ¥é“è¦æŠŠæ–°æ©Ÿå™¨äººä¸Ÿé€²å“ªè£¡
      - DOCKER_NETWORK=ticket_bot
    ports:
      - "8501:8501"
    # åŠ å…¥æŒ‡å®šç¶²è·¯
    networks:
      - ticket_bot
    command: streamlit run web_app.py --server.address=0.0.0.0 --server.enableCORS=false

# ğŸ”¥ é¡¯å¼å®šç¾©ç¶²è·¯åç¨±ï¼Œé¿å… Docker è‡ªå‹•åŠ å‰ç¶´ (ä¾‹å¦‚ hello_docker_default)
networks:
  ticket_bot:
    name: ticket_bot
    driver: bridge
